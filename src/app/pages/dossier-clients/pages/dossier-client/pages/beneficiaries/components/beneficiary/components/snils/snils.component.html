<tui-accordion>
  <tui-accordion-item class="snils_mb16">
    <h2 class="snils__title tui-text_h3">Снилс</h2>
    <ng-template tuiAccordionItemContent>
      <form [formGroup]="snilsForm">
        <div class="snils__form-container">
          <div class="snils__file-input-control-container">
            <tui-input-file
              class="snils__file-input-control"
              formControlName="file"
              link="Выберите"
              label="или перетащите сюда файл скана паспорта и прописки"
              [loadingFiles]="loadingFiles"
            ></tui-input-file>
            <button
              tuiButton
              type="button"
              class="snils__file-button-download"
              size="m"
              [showLoader]="isDownloadFile"
              [disabled]="isDownloadFile"
              (click)="downloadFile(getControl('file'))"
              *ngIf="getControl('file')?.value"
            >
              Скачать файл
            </button>
          </div>
          <div class="snils__form-controls" *ngIf="getControl('file')?.value">
            <div class="snils__form-control snils__form-control_mb16">
              <tui-input formControlName="number">Номер</tui-input>
              <tui-field-error formControlName="number"></tui-field-error>
            </div>
            <div class="snils__form-control snils__form-control_mb16">
              <div class="snils__passport-form-control">
                <tui-input-date formControlName="date"
                  >Дата выдачи</tui-input-date
                >
                <tui-field-error formControlName="date"></tui-field-error>
              </div>
            </div>

            <div class="snils__form-button-container">
              <button
                tuiButton
                type="button"
                size="m"
                [disabled]="snilsForm.invalid || snilsForm.untouched"
                (click)="onSave()"
              >
                Сохранить
              </button>
            </div>
          </div>
        </div>
      </form>
    </ng-template>
  </tui-accordion-item>
</tui-accordion>
